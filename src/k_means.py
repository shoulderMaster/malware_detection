from scipy.cluster.hierarchy import dendrogram, linkage
import pandas as pd
from matplotlib import pyplot as plt
import matplotlib

def main() :
    matplotlib.rc("font", family="Consolas")
    a_df = pd.read_csv("../result/csv/similarity_vectors_malware_train_dll.csv").set_index("file_name")
    b_df = pd.read_csv("../result/csv/similarity_vectors_benign_train_dll.csv").set_index("file_name")
    b_df.index = ["benign____________________%-5d" % i for i in range(len(b_df.index))]
    similarity_vector_list = pd.concat([a_df, b_df])
    normalized_data = similarity_vector_list/(similarity_vector_list.std()+0.0001)
    print(normalized_data.values)
    method_list = ['average', 'single', 'complete', 'centroid', 'weighted']
    for method in method_list :
        z = linkage(normalized_data.values, method=method)
        fig = plt.figure(figsize=(200, 20))
        dn = dendrogram(z, labels=normalized_data.index.values)
        fig.savefig("../result/clustering/dendrogram/%s.png" % method)





main()
